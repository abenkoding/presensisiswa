<!doctype html>
<html lang="en">
  <head>
	<script>
            function random_function()
            {
                var a=document.getElementById("input").value;
                if(a==="7A")
                {
                    var arr=["7A-AATMADEVA PUTRA PRAMANA","7A-ADHARA NABILA ARINI","7A-ADHITYA RIFQI PRATAMA","7A-ADINDA ATMANTI","7A-ALDIAN AHMAD MATIN","7A-AMANDA ELVINA ALYSIA","7A-ANAK AGUNG ARIE PRINCESSA SARASWATI","7A ANDINI PUTRIANA","7A DEYANDRA PUTRA RAMADHAN","7A DIMAS PRABAWA HERLAMBANG","7A FARRAND AL RAZIQ GARTINA","7A JUNIOR CAESAR JACOBUS NOYA","7A KAILA ANINDYA SYAHRA","7A KEVIN MANNIL JIBU","7A MOCHAMMAD SHIDIQ FATULOH","7A MUHAMMAD FARREL NUGRAHA","7A MUHAMMAD GILANG HARTAWAN","7A NEISYA RACHMA KAILA","7A ORVALA DINNOVA HARYADI","7A PHILLIP MARCELO BIMO GARCIA","7A REIMARDATILA PUTERI","7A RIA ALISYA AINUL BANNAT","7A RIZQI RAFIF RABBANI","7A SYAFFA AZZURA CAMILA","7A SYAZWAN RA'ID AHNAF RAHADIAN","7A ZAFFA ZERLYNA WAHYUDI"];
                }
                else if(a==="7B")
                {
                    var arr=["7B-ALEA ZYVA MIRALKA","7B-ALEXA CANDAKEYLA DARMADI","7B-AUREL ALLISYA ANGGRAENI","7B BALQUES CANANDRA ARBAY","7B CHINTYA LAURA","7B DAFLYNE GEOTINIKA TAPIHERU","7B DAUD TEGUH RAZZAAQ ATMOSUDIRDJO","7B FALI NASHWA KIRANA","7B FARAND KAUSHAL WIRADHARMA","7B FARREL NABAWI","7B FIRDAUS AGUSTIARIADY SUDARMAN","7B IRFA' HAYAATAL HUKAMAA","7B JIHAN NOOR AKASYAH","7B LADY SYAKIRA NAYYARA","7B LAODE AHMAD SYARAN TAMIM","7B LEANNA YARIZA AQILA","7B MOCHAMAD NAZRIEL ILHAM","7B MUHAMAD RAFLY DANENDRA","7B MUHAMMAD BILLQI BULQINI","7B MUHAMMAD DAFFA JATNIKA","7B MUHAMMAD SHIDQI ASKARI","7B NAISYA EARLY PUSPITA","7B NAKABUCHI MOTOBO","7B PUTRI ANNISA HERIAWAN","7B RAFA ADHITYA PRATAMA","7B RAFA ILHAM DWITAMA","7B RAFFA MAULANA YUSUF","7B RASHIF YUSLIM","7B RHAPSODY BILAL","7B SYAHLAN HABIL FADILLAH"];
                }
                else if(a==="7C")
                {
                    var arr=["7C-ALMA SURYA RAYSHA PUTRI","7C-ARYENI WENING GALIH","7C-AUDREY SAGITHA KIRANA","7C AULIA NADIA FAYZA KAMILA","7C BINTANG DJATI PAMUNGKAS","7C DAFFA ATHALLAH FIRMANSYAH","7C EZRA HASYA MUHAMMAD","7C FARIS KHALIFA ARARYA","7C FAUZAN PRIGUNA","7C FERDY ARDIANSAH","7C GIANDRA FAKHIRAN RADITYA KUSUMAH","7C LEISYA ARLETA MEIDIANTO","7C MARCELINO","7C MIKAYLA AZALEA","7C MUHAMMAD FILTAF FAYZA RAJENDRA YAFI","7C MUHAMMAD FITHRAN ALMER ZAKI","7C MUHAMMAD RADITYA ADIWIBAWA","7C MUTIARA AYU MAHARANI SANTOSO","7C NADHIRA PUTRI HADI FERDIANSYAH","7C NASYWAA KHAIRINA","7C NAURA ALEYKA ISFIANANDA","7C NAZIFA RETA ALESANDRA","7C RIFAT DWI PURNAMA SOPIAN","7C SAKEYLA HERMAWAN","7C- RIFKY ADILA RACHMAN","7C SIPAHUTAR, GERHARD HAMONANGAN","7C YASMINE FATIMA","7C ZAKI MUHAMAD ARSYI"];
                }
                else if(a==="7D")
                {
                    var arr=["7D-ADISUKMA MUHAMMAD ARGYA","7D-ANEZKA NEZA VELIKA","7D-AQILA HILDA SAMIA","7D ARCHIE AD'HWA JUANDA","7D ARLEENE DAVINA DEWI","7D AUREL PIZZARIO DESVINCA NASUTION","7D DARU AISYAH NUR'AINI","7D DHIYAUL HAQ ZHAFIRA AGUSTINA ANWAR","7D EVAN PRADNYA PRADIPTA","7D HILDA SAHIRA ZAKIYAH","7D ICHSAN ATMANAGARA","7D KHALISHA RADHIYYATUZAHRA","7D KHANSA NUURU WAJHIKA","7D KHEINDRA NAUFAL LIRANDIANO","7D KIRANA SYARAH ALDENIA","7D MOCHAMAD GIBRAN MUHARRAM RIYADI","7D MUHAMMAD ADBE GHAFARI","7D MUHAMMAD AZRIEL HAFIZH","7D MUHAMMAD REIVATA SAKTI RAMADHAN","7D NAILA RIZQI AQILAH","7D PUTRA MEIRO ARJIYANTO","7D RADITYA ADYARAKHA","7D RAISA FAZILA ALANA","7D RAYYAN KRISHNAN SUMANTRI","7D RESTU RAMADHAN ABDUL ROHMAN","7D SATRIO ADJI PUTRANTO","7D SATYA PRAMUDYA NUGRAHA","7D SYAHLAA KHAIRINI","7D ZHARFAN ZAKKIYAN QINTHARA FAHMI"];
                }
		else if(a==="8A")
                {
                    var arr=["8A-AJRIL FATHIR RIZQI","8A-ALFAIZ ZAIDAN RAMADHIO","8A-ALYSSA LUTHFIANA SHAZIA FARRAS"];
                }
		else if(a==="8B")
                {
                    var arr=["8B-ALBHIERA PUTERI ADI DARMA","8B-ALDEBARAN RAKA NABHAN PRADIPTA","8B-ALESHA RAMADHANI DARSONO"];
                }
		else if(a==="8C")
                {
                    var arr=["8C-ABIGAIL AL GHANIYY RAMADHAN","8C-AFRYAN RAHEEL FADILA","8C-AGUSTINE LUCYANA"];
                }
		else if(a==="8D")
                {
                    var arr=["8D-ADELIO JOMEI BUDISWANTO","8D-ARBY TAHTA MAHESA AL-IRFAN","8D-ARGYA RAFEANSYAH QADIRA"];
                }
		else if(a==="8E")
                {
                    var arr=["8E-ALLORIN QEIZY CALULA HERINA PUTRI","8E-ARARYA RAFIF AYDIN","8E-ARDHITA-SYAFIRA RAMADHANI PUTRI TISNADJA"];
                }
             
                var string="";
             
                for(i=0;i<arr.length;i++)
                {
                    string=string+"<option value="+arr[i]+">"+arr[i]+"</option>";
                }
                document.getElementById("output").innerHTML=string;
            }
        </script>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>Home Presensi</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
<!-- navbar -->
<nav class="navbar navbar-expand-lg navbar-light shadow-sm bg-white pt-3 pb-3 fixed-top">
	<div class="container">
	<a class="navbar-brand fw-bold" href="#">HadirBDR</a>
	<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
		<span class="navbar-toggler-icon"></span>
	</button>
	<div class="collapse navbar-collapse" id="navbarNav">
		<ul class="navbar-nav ms-auto">
		<li class="nav-item">
			<a class="btn btn-outline-primary" aria-current="page" href="#">Home</a>
		</li>
		<li class="nav-item">
			<a class="nav-link" href="#">Tata Tertib</a>
		</li>
		</ul>
	</div>
	</div>
</nav>
<!-- akhir navbar -->
    <div class="container">
      <div class="row text-center mb-3">
        <div class="col">
          <div>&nbsp;</div>
        <h2 class="fw-bold">Presensi Pesantren Ramadhan Angkatan Ke-XXXV</h2>
		    <script>
                //deklarasi variabel tanggal
                var nmhari,nmbulan;
                var tgl = new Date();

                //proses menetukan nama hari
                switch (tgl.getDay())
                {
                    case 0 :
                        nmhari="Minggu";
                        break;
                    case 1 :
                        nmhari="Senin";
                        break;
                    case 2 :
                        nmhari="Selasa";
                        break;
                    case 3 :
                        nmhari="Rabu";
                        break;
                    case 4 :
                        nmhari="Kamis";
                        break;
                    case 5 :
                        nmhari="Jumat";
                        break;
                    case 6 :
                        nmhari="Sabtu";
                        break;
                }

                //logika nama bulan
                switch (tgl.getMonth())
                {
                    case 0 :
                        nmbulan="Januari";
                        break;
                    case 1 :
                        nmbulan="Februari";
                        break;
                    case 2 :
                        nmbulan="Maret";
                        break;
                    case 3 :
                        nmbulan="April";
                        break;
                    case 4 :
                        nmbulan="Mei";
                        break;
                    case 5 :
                        nmbulan="Juni";
                        break;
                    case 6 :
                        nmbulan="Juli";
                        break;
                    case 7 :
                        nmbulan="Agustus";
                        break;
                    case 8 :
                        nmbulan="September";
                        break;
                    case 9 :
                        nmbulan="Oktober";
                        break;
                    case 10 :
                        nmbulan="November";
                        break;
                    case 11 :
                        nmbulan="Desember";
                        break;
                    default:
                        document.write("");
                        break;
                    
                }

                // menampilkan nama hari tanggal
                document.write("<h5>Hari Ini : " + nmhari + "," + tgl.getDate() + " " + nmbulan + " " +  tgl.getFullYear() + "</h5>");
    
            </script>
                </div>
            </div>
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <form name="presensi-sanlat">
                        <div class="mb-3">
                          <label for="name" class="form-label fw-bold">Nama Lengkap (* ditulis dengan huruf besar)</label>
                          <input type="text" class="form-control" id="name" aria-describedby="name" name="nama" required>
                        </div>
    
                        <div class="md-3">
                        <label class="form-label fw-bold">Kelas</label>
                              <select class="form-select" id="input" onchange="random_function()" name="kelas" required>
                                  <option selected disabled value="">Pilih kelas</option>
                                  <option>7A</option>
                                  <option>7B</option>
                                  <option>7C</option>
                                  <option>7D</option>
				  <option>8A</option>
				  <option>8B</option>
				  <option>8C</option>
				  <option>8D</option>
				  <option>8E</option>
				  <option>9A</option>
				  <option>9B</option>
				  <option>9C</option>
				  <option>9D</option>
				  <option>9E</option>
				  <option>9F</option>
                              </select>
                        </div>
                        <div>&nbsp;</div>
                        <div class="md-3">
                        <label class="form-label fw-bold">Konfirmasi Nama</label>
                          <select class="form-select" id="output" onchange="random_function1()" name="konfirmasi" required></select>
                              </div>
                        <div>&nbsp</div>
                        <button type="submit" class="btn btn-danger btn-kirim" id="">Kirim</button>
                        <button class="btn btn-danger btn-loading d-none" type="button" disabled>
                              <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                                                  Loading...
                              </button>
                    </form>
                    <div>&nbsp;</div>
                              <div class="alert alert-info alert-dismissible fade show d-none my-alert" role="alert">
                                          <strong>Terimakasih!</strong> Anda telah berhasil mengisi presensi.
                                          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                              </div>
                        </div>
                      </div>
                    </div>

    <!-- Optional JavaScript; choose one of the two! -->

    <!-- Option 1: Bootstrap Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js" integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf" crossorigin="anonymous"></script>

   <script>
        const scriptURL = 'https://script.google.com/macros/s/AKfycbzJ4JzC20loQ8lOcjJ5nJBkS_5zFMBa651Ctd5rXHCG6luK-KdFndFmjn_qnjTiSl1bLg/exec';
        const form = document.forms['presensi-sanlat'];
        const btnKirim = document.querySelector('.btn-kirim');
        const btnLoading = document.querySelector('.btn-loading');
        const myAlert = document.querySelector('.my-alert');
      
        form.addEventListener('submit', e => {
          e.preventDefault()
          // ketika tombol disubmit diklik
          // tampilan tombol loading, hilangkan tombol kirim
          btnLoading.classList.toggle('d-none');
          btnKirim.classList.toggle('d-none');
          fetch(scriptURL, { method: 'POST', body: new FormData(form)})
            .then(response => {
                 // tampilan tombol kirim, hilangkan tombol loading
                btnLoading.classList.toggle('d-none');
                btnKirim.classList.toggle('d-none');
                // tampilan alert
                myAlert.classList.toggle('d-none');
                // reset form
                form.reset();
                console.log('Success!', response);
            })
            .catch(error => console.error('Error!', error.message))
        })
      </script>

    </body>
</html>
